<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.5 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Enable Offline Support to Websites with Workbox - Jason’s Notes</title>
<meta name="description" content="A note of what Workbox is and how to use it to enable offline access for websites">


  <meta name="author" content="Jason Thai">


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Jason's Notes">
<meta property="og:title" content="Enable Offline Support to Websites with Workbox">
<meta property="og:url" content="https://jasonthai.me/blog/2019/08/06/enable-offline-support-to-websites-with-workbox/">


  <meta property="og:description" content="A note of what Workbox is and how to use it to enable offline access for websites">



  <meta property="og:image" content="https://jasonthai.me/assets/img/profile.jpeg">





  <meta property="article:published_time" content="2019-08-06T00:00:00-07:00">





  

  


<link rel="canonical" href="https://jasonthai.me/blog/2019/08/06/enable-offline-support-to-websites-with-workbox/">





  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "url": "https://jasonthai.me",
      "logo": "https://jasonthai.me/assets/img/profile.jpeg"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Jason Thai",
      "url": "https://jasonthai.me",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Jason's Notes Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<link rel="manifest" href="/manifest.json">
<link rel="apple-touch-icon" href="/assets/img/apple-touch-icon.png">
<meta name="theme-color" content="#faf5ef" />

<script>
      // Check that service workers are supported
    if ('serviceWorker' in navigator) {
      // Use the window load event to keep the page load performant
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js');
      });
    }
</script>

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/favicon.ico" alt=""></a>
        
        <a class="site-title" href="/">
          Jason's Notes
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about" >About</a>
            </li><li class="masthead__menu-item">
              <a href="/year-archive/" >Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/categories" >Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/visited-places" >Places I Visited</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/img/profile.jpeg" alt="Jason Thai" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Jason Thai</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Jason’s personal page</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
        
          
        
          
        
          
        
          
            <li><a href="https://feeds.feedburner.com/jasonthai" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
          
        
          
            <li><a href="https://feedburner.google.com/fb/a/mailverify?uri=jasonthai&loc=en_US" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Email</a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/jasontthai" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> Linkedin</a></li>
          
        
          
            <li><a href="https://github.com/zirius" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          
        
          
        
      

      

      
        <li>
          <a href="mailto:&#104;&#101;&#121;&#064;&#106;&#097;&#115;&#111;&#110;&#116;&#104;&#097;&#105;&#046;&#109;&#101;">
            <meta itemprop="email" content="&#104;&#101;&#121;&#064;&#106;&#097;&#115;&#111;&#110;&#116;&#104;&#097;&#105;&#046;&#109;&#101;" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Enable Offline Support to Websites with Workbox">
    <meta itemprop="description" content="A note of what Workbox is and how to use it to enable offline access for websites">
    <meta itemprop="datePublished" content="August 06, 2019">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Enable Offline Support to Websites with Workbox
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
  <li><a href="#tldr">TLDR</a></li>
  <li><a href="#what-is-workbox">What is Workbox?</a></li>
  <li><a href="#enable-service-worker">Enable service worker</a></li>
  <li><a href="#using-workbox">Using Workbox</a>
    <ul>
      <li><a href="#install-workbox-cli">Install workbox-cli</a></li>
      <li><a href="#setup-service-worker">Setup service worker</a></li>
      <li><a href="#use-workbox-cli-to-populate-what-to-precache">Use workbox-cli to populate what to precache</a></li>
      <li><a href="#manually-specify-what-to-cache-during-runtime">Manually specify what to cache during runtime</a></li>
    </ul>
  </li>
  <li><a href="#add-to-build-and-automate">Add to build and automate</a></li>
  <li><a href="#considerations">Considerations</a></li>
</ul>
            </nav>
          </aside>
        
        
<p><img style="display: block; margin-left: auto; margin-right: auto; max-width: 100%; height: auto;" data-src="https://jasonthai.me/assets/img/workbox.webp" alt="workbox" class="lazyload" /></p>

<p>Recently I have added offline support for this blog using <a href="https://developers.google.com/web/tools/workbox/">Workbox</a>. You can test this by going offline and then browsing my blog. This note gives a walkthrough of how I did it and summarizes my findings.
<!--more--></p>

<h2 id="tldr">TLDR</h2>
<p>Steps to enable offline support:</p>
<ul>
  <li>Enable service worker</li>
  <li>Create sw.js with
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">importScripts</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://storage.googleapis.com/workbox-cdn/releases/4.3.1/workbox-sw.js</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">workbox</span><span class="p">.</span><span class="nx">precaching</span><span class="p">.</span><span class="nx">precacheAndRoute</span><span class="p">([]);</span>
</code></pre></div>    </div>
  </li>
  <li>Install workbox-cli with <code class="highlighter-rouge">npm install workbox-cli --global</code></li>
  <li>Follow workbox wizard <code class="highlighter-rouge">workbox wizard --injectManifest</code></li>
  <li>Inject <code class="highlighter-rouge">sw.js</code> with what to cache <code class="highlighter-rouge">workbox injectManifest workbox-config.js</code></li>
</ul>

<h2 id="what-is-workbox">What is Workbox?</h2>
<p>Workbox is a set of javascript libraries that add support for caching and offline access of web apps. Workbox provides an abstract layer for developers when working with <a href="https://developers.google.com/web/fundamentals/primers/service-workers/">service workers</a>. Some of the things workbox support like precaching, runtime caching, etc will be covered below.</p>

<p>Does your browser support workbox and service workers? <a href="https://love2dev.com/blog/what-browsers-support-service-workers/">Check here</a></p>

<h2 id="enable-service-worker">Enable service worker</h2>
<p>Add this script to the bottom of your website:</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
<span class="c1">// Check that service workers are supported</span>
<span class="k">if</span> <span class="p">(</span><span class="dl">'</span><span class="s1">serviceWorker</span><span class="dl">'</span> <span class="k">in</span> <span class="nb">navigator</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Use the window load event to keep the page load performant</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">load</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nb">navigator</span><span class="p">.</span><span class="nx">serviceWorker</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="dl">'</span><span class="s1">/sw.js</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>
<p>This tells the browser to wait until the window load and then register for service worker  in <code class="highlighter-rouge">/sw.js</code> route.</p>

<h2 id="using-workbox">Using Workbox</h2>
<p>There are a few ways to generate service workers using Workbox. I choose to use workbox-cli as I can enable it as part of my build pipeline for my blog which is currently powered by Jekyll. If you use Node or Gulp, you can use <a href="https://developers.google.com/web/tools/workbox/guides/precache-files/workbox-build">workbox-build</a> or if you use Webpack, there is <a href="https://developers.google.com/web/tools/workbox/guides/precache-files/webpack">workbox-webpack-plugin</a>.</p>

<h3 id="install-workbox-cli">Install workbox-cli</h3>
<p>Install by using npm:</p>

<p><code class="highlighter-rouge">npm install workbox-cli --global</code></p>

<h3 id="setup-service-worker">Setup service worker</h3>
<p>In <code class="highlighter-rouge">sw.js</code> specify the following boilerplate code:</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">importScripts</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://storage.googleapis.com/workbox-cdn/releases/4.3.1/workbox-sw.js</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">workbox</span><span class="p">.</span><span class="nx">precaching</span><span class="p">.</span><span class="nx">precacheAndRoute</span><span class="p">([])</span> 
</code></pre></div></div>
<p>Notice we have not specified anything yet to precache. This serves as an injection point for workbox to compute and inject all the routes to be cached.</p>

<h3 id="use-workbox-cli-to-populate-what-to-precache">Use workbox-cli to populate what to precache</h3>
<p>Run workbox-cli wizard</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">workbox</span> <span class="nx">wizard</span> <span class="o">--</span><span class="nx">injectManifest</span>
</code></pre></div></div>
<p>This command provides the option to specify what to cache by looking at all the file extensions in the website. After this is done, a new file called <code class="highlighter-rouge">workbox-config.js</code> will be created.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">workbox</span> <span class="nx">injectManifest</span> <span class="nx">workbox</span><span class="o">-</span><span class="nx">config</span><span class="p">.</span><span class="nx">js</span>
</code></pre></div></div>
<p>This command then uses what is specified in <code class="highlighter-rouge">workbox-config.js</code> and injects all the files to be cached into the injection point we specified above in <code class="highlighter-rouge">sw.js</code> files.</p>

<h3 id="manually-specify-what-to-cache-during-runtime">Manually specify what to cache during runtime</h3>
<p>There are already a few <a href="https://developers.google.com/web/tools/workbox/guides/common-recipes">common recipes</a> that provide examples of caching css, js, images, etc.</p>

<p><a href="https://jasonthai.me/sw.js">I use a few from those recipes for my site</a>:</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Caching Images</span>
<span class="nx">workbox</span><span class="p">.</span><span class="nx">routing</span><span class="p">.</span><span class="nx">registerRoute</span><span class="p">(</span>
  <span class="sr">/</span><span class="se">\.(?:</span><span class="sr">png|gif|jpg|jpeg|webp|svg</span><span class="se">)</span><span class="sr">$/</span><span class="p">,</span>
  <span class="k">new</span> <span class="nx">workbox</span><span class="p">.</span><span class="nx">strategies</span><span class="p">.</span><span class="nx">CacheFirst</span><span class="p">({</span>
    <span class="na">cacheName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">images</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
      <span class="k">new</span> <span class="nx">workbox</span><span class="p">.</span><span class="nx">expiration</span><span class="p">.</span><span class="nx">Plugin</span><span class="p">({</span>
        <span class="na">maxEntries</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
        <span class="na">maxAgeSeconds</span><span class="p">:</span> <span class="mi">30</span> <span class="o">*</span> <span class="mi">24</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span><span class="p">,</span> <span class="c1">// 30 Days</span>
      <span class="p">}),</span>
    <span class="p">],</span>
  <span class="p">})</span>
<span class="p">);</span>

<span class="c1">// Cache CSS and JavaScript Files</span>
<span class="nx">workbox</span><span class="p">.</span><span class="nx">routing</span><span class="p">.</span><span class="nx">registerRoute</span><span class="p">(</span>
  <span class="sr">/</span><span class="se">\.(?:</span><span class="sr">js|css</span><span class="se">)</span><span class="sr">$/</span><span class="p">,</span>
  <span class="k">new</span> <span class="nx">workbox</span><span class="p">.</span><span class="nx">strategies</span><span class="p">.</span><span class="nx">StaleWhileRevalidate</span><span class="p">({</span>
    <span class="na">cacheName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">static-resources</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">})</span>
<span class="p">);</span>

<span class="c1">// Caching Content from Multiple Origins</span>
<span class="nx">workbox</span><span class="p">.</span><span class="nx">routing</span><span class="p">.</span><span class="nx">registerRoute</span><span class="p">(</span>
  <span class="sr">/.*</span><span class="se">(?:</span><span class="sr">googleapis|gstatic</span><span class="se">)\.</span><span class="sr">com/</span><span class="p">,</span>
  <span class="k">new</span> <span class="nx">workbox</span><span class="p">.</span><span class="nx">strategies</span><span class="p">.</span><span class="nx">StaleWhileRevalidate</span><span class="p">(),</span>
<span class="p">);</span>
</code></pre></div></div>

<h2 id="add-to-build-and-automate">Add to build and automate</h2>
<p><a href="https://jasonthai.me/blog/2019/07/22/how-to-deploy-a-github-page-using-circleci-20-custom-jekyll-gems/">Since I am using CircleCI to deploy changes of my site to Github Pages</a>, I also add the workbox + service worker script generation to the build.</p>

<p>Declared <code class="highlighter-rouge">workbox-config.js</code>:</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">globDirectory</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_site/</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">globPatterns</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
    <span class="dl">"</span><span class="s2">**/*.{html,txt,css,webp,js,json,svg,ico}</span><span class="dl">"</span>
  <span class="p">],</span>
  <span class="dl">"</span><span class="s2">swDest</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_site/sw.js</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">swSrc</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">sw.js</span><span class="dl">"</span>
<span class="p">};</span>
</code></pre></div></div>

<p>In <code class="highlighter-rouge">config.yml</code> file I added:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="c1"># -- more omitted --</span>
      <span class="pi">-</span> <span class="na">run</span><span class="pi">:</span> <span class="s">JEKYLL_ENV=production bundle exec jekyll build</span>
      <span class="pi">-</span> <span class="na">run</span><span class="pi">:</span> <span class="s">npm install workbox-cli</span>
      <span class="pi">-</span> <span class="na">run</span><span class="pi">:</span> <span class="s">npx workbox injectManifest workbox-config.js</span>
      <span class="c1"># -- more omitted --</span>
</code></pre></div></div>

<p>It is quite simple, just added two extra steps to install workbox-cli and run the same command to inject the precache routes.</p>

<h2 id="considerations">Considerations</h2>
<ul>
  <li>Using the workbox-cli, we can cache everything on the site. However, this will not work if the website contains thousands of posts and images as everything will be downloaded to the browser cache.</li>
  <li>Using the workbox-cli, we can only set service workers to cache our website’s assets. It will not handle caching other website’s sites. This is important because we probably use things like external fonts, javascripts, css files, etc. So we need to manually add that support to our service workers.</li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        


  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/tech" class="page__taxonomy-item" rel="tag">Tech</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2019-08-06T00:00:00-07:00">August 06, 2019</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Enable+Offline+Support+to+Websites+with+Workbox%20https%3A%2F%2Fjasonthai.me%2Fblog%2F2019%2F08%2F06%2Fenable-offline-support-to-websites-with-workbox%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fjasonthai.me%2Fblog%2F2019%2F08%2F06%2Fenable-offline-support-to-websites-with-workbox%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fjasonthai.me%2Fblog%2F2019%2F08%2F06%2Fenable-offline-support-to-websites-with-workbox%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/blog/2019/08/04/three-proofs-total-stock-market-is-efficient/" class="pagination--pager" title="Three Proofs Total Stock Market is Efficient
">Previous</a>
    
    
      <a href="/blog/2019/08/07/i-turned-my-blog-into-a-web-progress-app/" class="pagination--pager" title="I Turned My Blog into a Progressive Web App
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <section id="custom-comments"></section>
  
</div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/blog/2019/08/07/i-turned-my-blog-into-a-web-progress-app/" rel="permalink">I Turned My Blog into a Progressive Web App
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">A note of how I turn my blog into a progressive web app
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/blog/2019/08/04/three-proofs-total-stock-market-is-efficient/" rel="permalink">Three Proofs Total Stock Market is Efficient
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">John Norstad, a retired mathematician, had presented three proofs that prove Total Stock Market (fund) is efficient. This is interesting so this note shares ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/blog/2019/08/02/what-im-up-to-in-july-2019/" rel="permalink">What I’m up to in July 2019
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">


First post of what I am hoping will be a series. Here I will update what has been happening with me in the month.

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/blog/2019/07/28/42nd-biofreeze-sf-marathon-1st-half/" rel="permalink">42nd Biofreeze SF Marathon - 1st Half
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">42nd Biofreeze SF marathon race report
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><div class="search-searchbar"></div>
  <div class="search-hits"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <li><a href="https://feedburner.google.com/fb/a/mailverify?uri=jasonthai&loc=en_US" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Email</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 Jason Thai. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>


<!-- Including InstantSearch.js library and styling -->
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch-theme-algolia.min.css">

<script>
// Instanciating InstantSearch.js with Algolia credentials
const search = instantsearch({
  appId: 'M8BGO615Z5',
  apiKey: '2d0a33e1f6f4d50114593b1bd35d006a',
  indexName: 'jasonthai.me',
  searchParameters: {
    restrictSearchableAttributes: [
      'title',
      'content'
    ]
  }
});

const hitTemplate = function(hit) {
  const url = hit.url;
  const title = hit._highlightResult.title.value;
  const content = hit._highlightResult.html.value;

  return `
    <div class="list__item">
      <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
        <h2 class="archive__item-title" itemprop="headline"><a href="${url}">${title}</a></h2>
        <div class="archive__item-excerpt" itemprop="description">${content}</div>
      </article>
    </div>
  `;
}

// Adding searchbar and results widgets
search.addWidget(
  instantsearch.widgets.searchBox({
    container: '.search-searchbar',
    
    placeholder: 'Enter your search term...'
  })
);
search.addWidget(
  instantsearch.widgets.hits({
    container: '.search-hits',
    templates: {
      item: hitTemplate
    }
  })
);

// Starting the search
search.start();
</script>





  <script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-120912817-1']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>






    <!-- start custom comments snippet -->
<div id="commento"></div>
<script src="https://commento.jasonthai.me/js/commento.js"></script>
<!-- end custom comments snippet -->






  </body>
</html>
